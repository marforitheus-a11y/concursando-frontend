/* ==================== QUIZ CONCURSOS - SISTEMA MODERNO ==================== */
/* Sistema de Design Moderno - v2.0 */
/* Aplicação: Quiz de Concursos com Interface Premium */

/* MODERN CONCURSANDO STYLES - UPDATED */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

/* Importar componentes modernos */
@import url('modern-components.css');

/* ==================== VARIABLES ==================== */
:root {
  /* Modern Color Palette */
  --primary: #4f46e5;
  --primary-dark: #3730a3;
  --secondary: #7c3aed;
  --success: #10b981;
  --danger: #ef4444;
  --warning: #f59e0b;
  --info: #3b82f6;
  
  /* Neutral Colors */
  --gray-50: #f9fafb;
  --gray-100: #f3f4f6;
  --gray-200: #e5e7eb;
  --gray-300: #d1d5db;
  --gray-400: #9ca3af;
  --gray-500: #6b7280;
  --gray-600: #4b5563;
  --gray-700: #374151;
  --gray-800: #1f2937;
  --gray-900: #111827;
  
  /* Legacy Support */
  --white: #ffffff;
  --muted: var(--gray-500);
  --shadow: rgba(0,0,0,0.06);
  --text: var(--gray-800);
  --baby-100: #e6f0ff;
  --baby-200: #9fc5ff;
  --baby-300: var(--primary);
  
  /* Modern Gradients */
  --gradient-primary: linear-gradient(135deg, var(--primary), var(--secondary));
  --gradient-success: linear-gradient(135deg, var(--success), #059669);
  --gradient-danger: linear-gradient(135deg, var(--danger), #dc2626);
  --gradient-bg: linear-gradient(135deg, #f6f9ff, #f0f4ff);
  
  /* Spacing */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;
  --space-2xl: 3rem;
  
  /* Border Radius */
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 20px;
  --radius-2xl: 24px;
  
  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
  --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  
  /* Typography */
  --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
  --font-secondary: 'Poppins', 'Inter', sans-serif;
  --font-body: var(--font-primary);
  --font-heading: var(--font-secondary);
  
  /* Text Colors */
  --text-primary: var(--gray-900);
  --text-secondary: var(--gray-600);
  --text-muted: var(--gray-500);
  
  /* Responsive Typography Scale */
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-3xl: 1.875rem;
  --font-size-4xl: 2.25rem;
  
  /* Mobile Typography Scale (smaller) */
  --font-size-xs-mobile: 0.7rem;
  --font-size-sm-mobile: 0.8rem;
  --font-size-base-mobile: 0.9rem;
  --font-size-lg-mobile: 1rem;
  --font-size-xl-mobile: 1.1rem;
  --font-size-2xl-mobile: 1.25rem;
  --font-size-3xl-mobile: 1.5rem;
  --font-size-4xl-mobile: 1.75rem;
  
  /* Responsive Spacing */
  --space-mobile-xs: 0.125rem;
  --space-mobile-sm: 0.375rem;
  --space-mobile-md: 0.75rem;
  --space-mobile-lg: 1rem;
  --space-mobile-xl: 1.25rem;
  --space-mobile-2xl: 1.5rem;
}

/* ==================== RESET & BASE ==================== */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-body);
  line-height: 1.6;
  color: var(--text-primary);
  background: var(--gradient-bg);
  min-height: 100vh;
  overflow-x: hidden;
}

/* Garantir que todos os elementos de formulário usem a fonte consistente */
input, button, select, textarea {
  font-family: var(--font-body);
}

h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-heading);
}

/* ==================== QUIZ REVIEW STYLES ==================== */
.quiz-review {
  max-width: 800px;
  margin: 0 auto;
  padding: var(--space-lg);
}

.review-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-xl);
  padding-bottom: var(--space-lg);
  border-bottom: 2px solid var(--gray-200);
}

.review-header h2 {
  margin: 0;
  color: var(--primary);
}

.review-questions {
  display: flex;
  flex-direction: column;
  gap: var(--space-lg);
}

.review-question {
  background: white;
  border-radius: var(--radius-lg);
  padding: var(--space-lg);
  box-shadow: var(--shadow-md);
  border-left: 4px solid var(--gray-300);
}

.review-question.correct {
  border-left-color: var(--success);
}

.review-question.incorrect {
  border-left-color: var(--danger);
}

.review-question-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-md);
}

.question-header-actions {
  display: flex;
  align-items: center;
  gap: var(--space-md);
}

.report-question-btn {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  padding: var(--space-xs) var(--space-sm);
  background: var(--gray-100);
  border: 1px solid var(--gray-300);
  border-radius: var(--radius-md);
  color: var(--gray-600);
  font-size: 0.875rem;
  cursor: pointer;
  transition: all 0.3s ease;
}

.report-question-btn:hover {
  background: var(--gray-200);
  color: var(--gray-700);
  border-color: var(--gray-400);
}

.report-question-btn i {
  font-size: 0.75rem;
}

.question-number {
  font-weight: 600;
  color: var(--primary);
}

.question-status {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  font-weight: 500;
}

.question-status .fa-check-circle {
  color: var(--success);
}

.question-status .fa-times-circle {
  color: var(--danger);
}

.review-question-text {
  font-size: 1.1rem;
  line-height: 1.6;
  margin-bottom: var(--space-lg);
  color: var(--text-primary);
}

.review-options {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
}

.review-option {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  padding: var(--space-md);
  border-radius: var(--radius-md);
  background: var(--gray-50);
  border: 1px solid var(--gray-200);
}

.review-option.correct-answer {
  background: #f0f9ff;
  border-color: var(--success);
  color: var(--success);
}

.review-option.user-wrong-answer {
  background: #fef2f2;
  border-color: var(--danger);
  color: var(--danger);
}

.review-option.user-selected {
  border: 2px solid var(--primary) !important;
  box-shadow: 0 0 0 2px rgba(79, 70, 229, 0.1);
}

.review-option.user-selected .option-letter {
  border: 2px solid var(--primary);
}

.option-letter {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  background: var(--primary);
  color: white;
  border-radius: 50%;
  font-size: 0.8rem;
  font-weight: 600;
  flex-shrink: 0;
}

.review-option.correct-answer .option-letter {
  background: var(--success);
}

.review-option.user-wrong-answer .option-letter {
  background: var(--danger);
}

.review-option .option-text {
  flex: 1;
}

.review-option i {
  margin-left: auto;
}

@media (max-width: 768px) {
  .review-header {
    flex-direction: column;
    gap: var(--space-md);
    text-align: center;
  }
  
  .quiz-review {
    padding: var(--space-md);
  }
  
  .question-header-actions {
    flex-direction: column;
    gap: var(--space-xs);
    align-items: flex-end;
  }
}

/* ==================== QUIZ REPORT SELECTION STYLES ==================== */
.quiz-report-selection {
  max-width: 800px;
  margin: 0 auto;
  padding: var(--space-lg);
}

.report-selection-header {
  text-align: center;
  margin-bottom: var(--space-xl);
  padding-bottom: var(--space-lg);
  border-bottom: 2px solid var(--gray-200);
}

.report-selection-header h2 {
  margin: 0 0 var(--space-sm) 0;
  color: var(--primary);
}

.report-selection-header p {
  margin: 0 0 var(--space-lg) 0;
  color: var(--text-secondary);
  font-size: 1.1rem;
}

.report-selection-questions {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

.report-selection-question {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: white;
  border-radius: var(--radius-lg);
  padding: var(--space-lg);
  box-shadow: var(--shadow-md);
  border-left: 4px solid var(--gray-300);
  transition: all 0.3s ease;
}

.report-selection-question:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-lg);
}

.report-selection-question.correct {
  border-left-color: var(--success);
}

.report-selection-question.incorrect {
  border-left-color: var(--danger);
}

.report-question-info {
  flex: 1;
  margin-right: var(--space-lg);
}

.report-question-header {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  margin-bottom: var(--space-sm);
}

.report-question-preview {
  color: var(--text-secondary);
  line-height: 1.5;
}

.report-select-btn {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  padding: var(--space-md) var(--space-lg);
  background: var(--gradient-primary);
  color: white;
  border: none;
  border-radius: var(--radius-lg);
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  white-space: nowrap;
}

.report-select-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 16px rgba(79, 70, 229, 0.3);
}

.quiz-btn-outline {
  background: transparent;
  color: var(--primary);
  border: 2px solid var(--primary);
}

.quiz-btn-outline:hover {
  background: var(--primary);
  color: white;
}

@media (max-width: 768px) {
  .report-selection-question {
    flex-direction: column;
    gap: var(--space-md);
    align-items: stretch;
  }
  
  .report-question-info {
    margin-right: 0;
  }
  
  .report-select-btn {
    align-self: center;
  }
}

/* Site Theme Override */
.site-theme {
  --accent: var(--primary);
  --respond-bg: var(--gradient-primary);
}

/* ==================== MODERN HEADER ==================== */
.app-header {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid rgba(0,0,0,0.06);
  padding: var(--space-md) var(--space-xl);
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: sticky;
  top: 0;
  z-index: 1000;
  box-shadow: var(--shadow-md);
}

/* ==================== LOGO & BRANDING ==================== */
.logo-header {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  transition: transform 0.3s ease;
}

.logo-header:hover {
  transform: scale(1.02);
}

.logo-img-header {
  height: 48px;
  width: auto;
  filter: drop-shadow(0 2px 8px rgba(0,0,0,0.1));
}

.brand-text {
  font-size: 1.5rem;
  font-weight: 700;
  background: var(--gradient-primary);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  letter-spacing: -0.025em;
}

/* ==================== MENU TOGGLE ==================== */
.menu-toggle-btn {
  background: none;
  border: none;
  font-size: 1.5rem;
  color: var(--gray-600);
  cursor: pointer;
  padding: var(--space-sm);
  border-radius: var(--radius-md);
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

.menu-toggle-btn:hover {
  background: var(--gray-100);
  color: var(--gray-800);
  transform: scale(1.05);
}

.menu-toggle-btn:active {
  transform: scale(0.95);
}

/* ==================== SIDEBAR MENU ==================== */
.sidebar-menu {
  position: fixed;
  top: 0;
  left: -320px;
  width: 320px;
  height: 100vh;
  background: white;
  box-shadow: 4px 0 24px rgba(0,0,0,0.12);
  transition: left 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 1001;
  overflow-y: auto;
}

.sidebar-menu.open {
  left: 0;
}

.sidebar-header {
  padding: var(--space-xl) var(--space-lg) var(--space-md);
  border-bottom: 1px solid var(--gray-200);
  background: var(--gradient-primary);
  color: white;
}

.sidebar-header h2 {
  font-size: 1.5rem;
  font-weight: 700;
  margin: 0;
}

.sidebar-links {
  list-style: none;
  padding: var(--space-md) 0;
  margin: 0;
}

.sidebar-links li {
  margin: 0;
}

.sidebar-links a {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  padding: var(--space-md) var(--space-lg);
  color: var(--gray-600);
  text-decoration: none;
  font-weight: 500;
  transition: all 0.3s ease;
  border-left: 4px solid transparent;
}

.sidebar-links a:hover {
  background: var(--gray-50);
  color: var(--gray-800);
  border-left-color: var(--primary);
  transform: translateX(4px);
}

.sidebar-links a i {
  width: 20px;
  font-size: 1.1rem;
}

.btn-logout-menu {
  position: absolute;
  bottom: var(--space-xl);
  left: var(--space-lg);
  right: var(--space-lg);
  background: var(--gradient-danger);
  color: white;
  border: none;
  padding: var(--space-md);
  border-radius: var(--radius-md);
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-sm);
}

.btn-logout-menu:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(239, 68, 68, 0.3);
}

/* ==================== MENU OVERLAY ==================== */
.menu-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0,0,0,0.5);
  backdrop-filter: blur(4px);
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
  z-index: 1000;
}

.menu-overlay.active {
  opacity: 1;
  visibility: visible;
}

/* ==================== HEADER BUTTONS ==================== */
.header-buttons {
  display: flex;
  gap: var(--space-md);
  align-items: center;
}

.btn-header {
  padding: var(--space-sm) var(--space-lg);
  background: white;
  color: var(--gray-600);
  text-decoration: none;
  border-radius: var(--radius-md);
  font-weight: 500;
  border: 2px solid var(--gray-200);
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: var(--space-sm);
}

.btn-header:hover {
  background: var(--gray-50);
  border-color: var(--primary);
  color: var(--gray-800);
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

.btn-header i {
  font-size: 0.9rem;
}

/* ==================== CONTAINER & LAYOUT ==================== */
.container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--space-md);
}

.quiz-body {
  padding: var(--space-xl) 0;
}

/* ==================== MODERN CARDS ==================== */
.modern-card {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px);
  border-radius: var(--radius-2xl);
  padding: var(--space-2xl);
  box-shadow: var(--shadow-xl);
  border: 1px solid rgba(255,255,255,0.2);
  transition: all 0.3s ease;
}

.modern-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-2xl);
}

/* ==================== BUTTONS ==================== */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-sm);
  padding: var(--space-md) var(--space-xl);
  border: none;
  border-radius: var(--radius-lg);
  font-weight: 600;
  font-size: 1rem;
  text-decoration: none;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.btn-primary {
  background: var(--gradient-primary);
  color: white;
  box-shadow: 0 8px 24px rgba(79, 70, 229, 0.3);
}

.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 32px rgba(79, 70, 229, 0.4);
}

.btn-secondary {
  background: white;
  color: var(--gray-600);
  border: 2px solid var(--gray-200);
}

.btn-secondary:hover {
  background: var(--gray-50);
  border-color: var(--gray-300);
}

.btn-success {
  background: var(--gradient-success);
  color: white;
  box-shadow: 0 8px 24px rgba(16, 185, 129, 0.3);
}

.btn-success:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 32px rgba(16, 185, 129, 0.4);
}

.btn-danger {
  background: var(--gradient-danger);
  color: white;
  box-shadow: 0 8px 24px rgba(239, 68, 68, 0.3);
}

.btn-danger:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 32px rgba(239, 68, 68, 0.4);
}

/* Shimmer effect for primary buttons */
.btn-primary::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
  transition: left 0.5s ease;
}

.btn-primary:hover::before {
  left: 100%;
}

/* ==================== FORMS ==================== */
.form-group {
  margin-bottom: var(--space-lg);
}

.form-label {
  display: block;
  font-weight: 600;
  color: var(--gray-700);
  margin-bottom: var(--space-sm);
}

.form-input,
.form-select {
  width: 100%;
  padding: var(--space-md) var(--space-lg);
  border: 2px solid var(--gray-200);
  border-radius: var(--radius-lg);
  font-size: 1rem;
  background: white;
  transition: all 0.3s ease;
}

.form-input:focus,
.form-select:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
}

.form-select {
  appearance: none;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
  background-position: right 1rem center;
  background-repeat: no-repeat;
  background-size: 1.5em 1.5em;
  padding-right: 3rem;
}

/* ==================== PROGRESS BAR ==================== */
.progress-container {
  width: 100%;
  height: 8px;
  background: var(--gray-200);
  border-radius: 4px;
  overflow: hidden;
  box-shadow: inset 0 2px 4px rgba(0,0,0,0.06);
}

.progress-bar {
  height: 100%;
  background: var(--gradient-success);
  border-radius: 4px;
  transition: width 0.5s ease;
  position: relative;
}

.progress-bar::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
  animation: shimmer 2s infinite;
}

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

/* ==================== STATS CARDS ==================== */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--space-lg);
  margin-bottom: var(--space-2xl);
}

.stat-card {
  background: white;
  padding: var(--space-xl);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-lg);
  border: 1px solid rgba(0,0,0,0.04);
  text-align: center;
  transition: all 0.3s ease;
}

.stat-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-2xl);
}

.stat-icon {
  width: 60px;
  height: 60px;
  margin: 0 auto var(--space-md);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
}

.stat-correct .stat-icon {
  background: var(--gradient-success);
  color: white;
}

.stat-incorrect .stat-icon {
  background: var(--gradient-danger);
  color: white;
}

.stat-percentage .stat-icon {
  background: var(--gradient-primary);
  color: white;
}

.stat-time .stat-icon {
  background: linear-gradient(135deg, var(--warning), #d97706);
  color: white;
}

.stat-value {
  font-size: 2.5rem;
  font-weight: 700;
  color: var(--gray-800);
  margin-bottom: var(--space-sm);
}

.stat-label {
  color: var(--gray-500);
  font-weight: 500;
}

/* ==================== LOADING STATES ==================== */
.loading-spinner {
  width: 48px;
  height: 48px;
  border: 4px solid var(--gray-200);
  border-top: 4px solid var(--primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.loading-skeleton {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: loading 1.5s infinite;
  border-radius: var(--radius-md);
}

@keyframes loading {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* ==================== ANIMATIONS ==================== */
@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInFromLeft {
  from {
    transform: translateX(-100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.animate-slide-up {
  animation: slideInUp 0.5s ease-out;
}

.animate-fade-up {
  animation: fadeInUp 0.4s ease-out;
  animation-fill-mode: both;
}

/* ==================== RESPONSIVE DESIGN ==================== */
@media (max-width: 768px) {
  .app-header {
    padding: var(--space-md);
  }
  
  .logo-img-header {
    height: 40px;
  }
  
  .brand-text {
    font-size: 1.2rem;
  }
  
  .header-buttons {
    display: none;
  }
  
  .sidebar-menu {
    width: 280px;
    left: -280px;
  }
  
  .modern-card {
    padding: var(--space-xl) var(--space-lg);
    border-radius: var(--radius-xl);
  }
  
  .stats-grid {
    grid-template-columns: 1fr;
    gap: var(--space-md);
  }
  
  .stat-card {
    padding: var(--space-lg);
  }
  
  .container {
    padding: 0 var(--space-sm);
  }
}

/* ==================== ACCESSIBILITY ==================== */
.menu-toggle-btn:focus,
.btn-header:focus,
.sidebar-links a:focus,
.btn:focus {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

.btn-logout-menu:focus {
  outline: 2px solid var(--danger);
  outline-offset: 2px;
}

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ==================== LEGACY STYLES (SENDO MODERNIZADOS) ==================== */

/* Background image UX: subtle, darkened, low-opacity decorative layer
   - Uses a fixed pseudo-element so content can remain interactive above it
   - Adds a dark overlay to keep foreground contrast high (accessibility)
   - Provides responsive opacity/position tweaks for mobile performance */
body::before{
  content: '';
  position: fixed;
  inset: 0;
  z-index: 0; /* sits above the body background but behind page content */
  pointer-events: none;
  /* try absolute root first, then relative and assets/ as fallbacks for different hosting setups */
  background-image: linear-gradient(rgba(0,0,0,0.52), rgba(0,0,0,0.52)), url('/background.png'), url('./background.png'), url('assets/background.png');
  background-size: cover;
  background-position: center center;
  background-repeat: no-repeat;
  background-blend-mode: multiply; /* darken image while preserving contrast */
  filter: saturate(0.92) contrast(0.95);
  opacity: 0.28; /* slightly higher so image is perceptible; tweak as needed */
  will-change: transform, opacity;
}

/* Ensure all main content stacks above the decorative background */
body > *{position:relative;z-index:1}

/* Mobile: avoid fixed backgrounds for smoother scrolling and reduce opacity */
@media (max-width:700px){
  body::before{
    position: absolute;
    background-position: top center;
    opacity: 0.12;
    background-attachment: scroll;
  }
}

/* ==================== LEGACY ELEMENTS TO BE UPDATED ==================== */

/* LOGIN CARD */
.login-container{
  background:var(--white);
  width:100%;
  max-width:420px;
  border-radius:14px;
  padding:34px 28px;
  box-shadow:0 12px 40px var(--shadow);
  border:1px solid var(--baby-100);
  text-align:center;
}
.logo-img{width:64px;height:64px;margin:0 auto 8px;display:block}
.logo h1{color:var(--baby-300);font-size:1.9rem;margin:6px 0 6px}
.logo p{color:var(--muted);font-size:0.95rem;margin-bottom:12px}

.login-header{display:flex;gap:8px;justify-content:center;margin-bottom:18px}
.toggle-btn{background:var(--baby-100);border:none;padding:8px 20px;border-radius:10px;cursor:pointer;color:var(--text);font-weight:500}
.toggle-btn.active{background:var(--baby-300);color:var(--white);box-shadow:0 8px 24px rgba(129,212,250,0.14)}

#auth-form{display:flex;flex-direction:column;gap:12px}
input[type=text],input[type=email],input[type=password]{width:100%;padding:12px 14px;border-radius:10px;border:1px solid var(--baby-200);background:#FAFBFC;color:var(--text)}
input::placeholder{color:var(--baby-300)}
input:focus{outline:none;box-shadow:0 6px 18px rgba(129,212,250,0.12);border-color:var(--baby-300)}
.login-btn{background:var(--baby-300);color:var(--white);padding:12px;border-radius:10px;border:none;cursor:pointer;font-weight:600}
.login-btn:hover{background:var(--baby-200)}
.forgot{color:var(--baby-300);font-size:0.95rem;text-align:right;display:block;text-decoration:none}
.forgot:hover{text-decoration:underline}
.error-message{color:#e53935;min-height:20px;margin-top:6px;text-align:center}

/* QUIZ / APP BASIC LAYOUT */
.container{width:100%;max-width:980px;margin:0 auto;padding:6px}
.app-header{display:flex;align-items:center;justify-content:space-between;padding:26px 18px;border-radius:10px;background:rgba(255,255,255,0.7);border:1px solid rgba(0,0,0,0.04);box-shadow:0 6px 20px rgba(0,0,0,0.03)}

/* Performance page: larger white bar behind logo to visually fit large logo */
body.performance-page .app-header{
  padding:26px 18px; /* taller */
  border-radius:12px;
  background:rgba(255,255,255,0.85);
}
body.performance-page .logo-img-header{width:180px;max-height:180px}
.brand-title{color:var(--text);font-weight:600}
.logo-header{text-align:center}
.logo-img-header{width:56px;height:56px}

/* When using the scoped site theme we intentionally show the main logo
  image (some rules previously hid it globally). This overrides that rule
  only for pages that have body.site-theme. */
.site-theme .logo-img-header{
  display:block;
  /* 3x larger than the previous default (120px -> 360px) */
  width:360px;
  height:auto;
  max-width:90%;
  max-height:420px;
  margin:0 auto;
}

/* Center chart-card contents and constrain width so chart stays centered */
#chart-card{display:flex;flex-direction:column;align-items:center;justify-content:center;max-width:760px;margin:0 auto}
#chart-card canvas{max-width:100% !important;height:320px !important}

/* Ensure hamburger menu button sits above header visuals */
.menu-toggle-btn{z-index:60;position:relative}

/* Responsive logo sizes (3x the prior responsive sizes) */
@media (max-width:700px){
  .site-theme .logo-img-header{width:264px;max-height:300px}
}
@media (min-width:1000px){
  .site-theme .logo-img-header{width:420px;max-height:480px}
}

/* Layered logo behind title following Laws of UX: visual hierarchy, contrast, and aesthetic-usability */
.logo-header{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center}
.logo-svg{position:absolute;left:50%;top:2px;transform:translateX(-50%) translateY(-16%);width:120px;height:120px;color:var(--accent);opacity:var(--logo-alpha);pointer-events:none;z-index:0}
.brand-title{position:relative;z-index:1;font-size:1.4rem;color:var(--text-primary);letter-spacing:0.4px;font-family:var(--font-heading)}

/* Replace small image usage with accessible hidden fallback */
.logo-img-header{width:56px;height:56px;display:none}
.page-hero{padding:18px 0 8px}
.hero-title h2{font-size:1.4rem;margin:0 0 6px}
.hero-title p{margin:0 0 12px;color:var(--muted)}
.quiz-body{max-width:760px;margin:0 auto;padding:8px 12px}
.quiz-body ul{margin:8px 0 14px 20px;color:var(--text)}
.quiz-body a{color:var(--baby-300)}
.loading-card{background:var(--white);border-radius:12px;padding:24px;text-align:center;box-shadow:0 12px 40px var(--shadow)}
.spinner{width:36px;height:36px;margin:8px auto 12px;border-radius:50%;border:4px solid var(--baby-100);border-top-color:var(--baby-300);animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* SIDEBAR / MENU */
.menu-toggle-btn{background:none;border:none;font-size:1.25rem;cursor:pointer;color:var(--text)}
.menu-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.18);opacity:0;visibility:hidden;transition:.2s;z-index:40}
.menu-overlay.active{opacity:1;visibility:visible}
.sidebar-menu{position:fixed;top:0;left:-260px;width:240px;height:100vh;background:var(--white);box-shadow:4px 0 24px rgba(0,0,0,0.08);padding:20px;z-index:50;transition:left .28s ease}
.sidebar-menu.active{left:0}
.sidebar-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.sidebar-links{list-style:none;padding:0;margin:8px 0}
.sidebar-links li{margin:8px 0}
.sidebar-links a{color:var(--accent);text-decoration:none;font-weight:500}
.btn-logout-menu{margin-top:14px;background:transparent;border:1px solid rgba(0,0,0,0.06);padding:8px 10px;border-radius:8px;cursor:pointer}

/* UTILITIES */
.fade-field{opacity:0;max-height:0;overflow:hidden;transform:translateY(-8px);transition:all .32s ease}
.fade-field.show{opacity:1;max-height:160px;transform:none}
.hidden{display:none}

@media(min-width:1000px){body{align-items:flex-start;padding-top:40px}.container{margin:0 auto}}
@media(max-width:700px){.container{margin-left:0;padding:0}.login-container{max-width:92%}}

/* On performance page, show the sidebar as a persistent left column on desktop */
@media (min-width:1000px) {
  body.performance-page .sidebar-menu{ left:0; box-shadow:4px 0 24px rgba(0,0,0,0.06); }
  body.performance-page .menu-overlay{ display:none }
  body.performance-page .container{ margin-left:260px; transition:margin .2s }
}

/* Responsive logo adjustments */
@media (max-width:700px){
  .logo-svg{width:84px;height:84px;transform:translateX(-50%) translateY(-8%);opacity:0.14}
  .brand-title{font-size:1.05rem}
}

@media (min-width:1000px){
  .logo-svg{width:160px;height:160px;transform:translateX(-50%) translateY(-22%);opacity:0.12}
  .brand-title{font-size:1.6rem}
}

/* Site-wide helpers added for uniform visuals and responsive tables */
.no-break{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.break-word{word-break:break-word}

/* Scrollable table body with fixed height (used for users list) */
.table-scroll{max-height:360px;overflow-y:auto}
.table-scroll table{width:100%;border-collapse:collapse}
.table-scroll td,.table-scroll th{padding:12px;border-bottom:1px solid rgba(0,0,0,0.04)}

/* Categories block */
.categories-wrapper{display:flex;flex-direction:column;gap:10px;padding:14px;background:var(--white);border-radius:12px;border:1px solid rgba(0,0,0,0.04);box-shadow:0 8px 24px rgba(0,0,0,0.03)}
.category-list{display:flex;flex-direction:column;gap:8px}
.category-item{display:flex;align-items:center;gap:10px;justify-content:space-between;padding:10px;border-radius:10px;border:1px solid rgba(0,0,0,0.04);background:linear-gradient(90deg,rgba(129,212,250,0.04),transparent)}
.category-breadcrumb{font-size:0.95rem;color:var(--text);display:flex;gap:6px;align-items:center}
.category-actions{display:flex;gap:8px}
.btn-create-category{display:inline-flex;align-items:center;gap:6px;padding:8px 10px;border-radius:10px;background:var(--baby-300);color:var(--white);border:none;cursor:pointer}
.btn-small{padding:6px 8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);background:#fff;cursor:pointer}

/* Common button variants used in admin.js */
.btn-secondary{background:#f3f4f6;border:1px solid rgba(0,0,0,0.04);padding:8px 10px;border-radius:10px;cursor:pointer}
.btn-delete{background:#fff;border:1px solid rgba(0,0,0,0.06);color:#b91c1c;padding:8px 10px;border-radius:10px;cursor:pointer}

/* User status indicators */
.status-icon{display:inline-block;width:10px;height:10px;border-radius:50%;margin-right:6px}
.status-icon.active{background:#10b981;box-shadow:0 0 6px rgba(16,185,129,0.12)}
.status-icon.inactive{background:#9ca3af}

/* Account card */
.account-card{background:var(--white);padding:18px;border-radius:12px;box-shadow:0 12px 40px var(--shadow);border:1px solid rgba(0,0,0,0.04)}
.account-row{display:flex;flex-wrap:wrap;gap:12px;align-items:center}
.account-label{font-weight:600;color:var(--muted);min-width:140px}
.tags-input{display:flex;gap:8px;flex-wrap:wrap}
.tag-pill{background:var(--baby-200);padding:6px 10px;border-radius:999px;font-size:0.9rem}

@media(max-width:640px){
  .account-row{flex-direction:column;align-items:flex-start}
  .account-label{min-width:0}
}

/* Theme list (vertical, scrollable) */
.theme-list{display:flex;flex-direction:column;gap:8px;max-height:320px;overflow-y:auto;padding:8px;max-width:680px;margin:8px auto}
.theme-item{display:flex;gap:12px;align-items:flex-start;padding:10px;border-radius:10px;border:1px solid rgba(0,0,0,0.04);background:linear-gradient(90deg,rgba(255,255,255,0.6),transparent);cursor:pointer}
.theme-item input[type="checkbox"]{margin-top:6px;flex:0 0 auto}
.theme-info{display:flex;flex-direction:column;min-width:0}
.theme-name{font-weight:600;color:var(--text);white-space:normal;overflow-wrap:break-word}
.theme-meta{font-size:0.9rem;color:var(--muted);margin-top:4px;white-space:normal}

/* Table row dividers and responsive wrapping */
.scroll-table table{width:100%;border-collapse:separate;border-spacing:0 10px}
.scroll-table tbody tr{background:var(--white);border-radius:10px;box-shadow:0 10px 24px rgba(0,0,0,0.04);overflow:hidden;border:1px solid rgba(0,0,0,0.04)}
.scroll-table td, .scroll-table th{padding:12px;border:none;vertical-align:middle}
.theme-name{font-weight:600;color:var(--text);max-width:560px}
.theme-desc{color:var(--muted);font-size:0.95rem;max-width:420px}

/* New flex-based themes table (replaces previous <table> layout) */
.themes-table{width:100%}
.themes-head{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;margin-bottom:8px}
.themes-head .head-left{font-weight:700}
.themes-head .head-count{font-weight:700;text-align:center}
.themes-body{display:flex;flex-direction:column;gap:10px}
.theme-row{display:flex;align-items:center;justify-content:space-between;background:var(--white);border-radius:10px;box-shadow:0 10px 24px rgba(0,0,0,0.04);overflow:hidden;border:1px solid rgba(0,0,0,0.04);padding:12px}
.theme-left{display:flex;gap:12px;align-items:flex-start;flex:1;min-width:0}
.theme-left input[type="checkbox"]{margin-top:6px;flex:0 0 auto}
.theme-left div{min-width:0}
.theme-count{flex:0 0 84px;text-align:center;font-weight:700;color:var(--accent)}

/* For progressive enhancement: keep older table styles hidden */
 #themes-table-head{display:none}

/* When site-theme is active, hide small corner X buttons for a cleaner mobile view */
.site-theme .modal-close, .site-theme .close-sidebar { display:none !important }

/* Make the questions count column visually distinct (second column now) */
.scroll-table{width:100%}
.scroll-table table{width:100%;table-layout:fixed}
.scroll-table td:nth-child(2), .scroll-table th:nth-child(2){font-weight:700;color:var(--accent);}


@media(max-width:700px){
  .scroll-table table tfoot{display:none}
  /* Mobile: layout each row as a horizontal flex container so the
     theme block stays at left and the count is fixed at the right. This
     keeps the count visually aligned even when the title wraps to multiple lines. */
  .scroll-table tbody tr{
    display:flex;
    flex-direction:row;
    align-items:flex-start; /* align to top so count stays near title start */
    gap:12px;
    padding:12px;
  }
  .scroll-table td{display:block;padding:6px}
  .scroll-table td:first-child{flex:1;min-width:0}
  .scroll-table td:nth-child(2){flex:0 0 84px;max-width:84px;text-align:center;white-space:nowrap}
  .theme-name{font-size:0.98rem;overflow-wrap:break-word;white-space:normal;word-break:break-word}
  .theme-desc{font-size:0.9rem;color:var(--muted);white-space:normal}

  /* Ensure inner label/div containers can shrink properly and text flows
    horizontally (fixes vertical single-letter wrapping seen on some phones) */
  .scroll-table td:first-child > label{display:flex;align-items:flex-start;gap:12px}
  .scroll-table td:first-child > label > div{min-width:0}
  .scroll-table td:first-child, .scroll-table td:first-child *{writing-mode:horizontal-tb !important; text-orientation:mixed !important}
}

body.site-theme .scroll-table td:first-child .theme-name,
body.site-theme .scroll-table td:first-child .theme-desc,
body.site-theme .scroll-table td:first-child > label > div,
body.site-theme .scroll-table td:first-child * {
  writing-mode: horizontal-tb !important;
  text-orientation: mixed !important;
  white-space: normal !important;
  letter-spacing: normal !important;
  word-break: break-word !important; /* permite quebrar palavras grandes */
  overflow-wrap: break-word !important; /* compatível com navegadores móveis */
}


/* Ensure the theme title is not constrained to a tiny inline width */
body.site-theme .scroll-table td:first-child .theme-name{display:block;max-width:100% !important}

/* Folder UI used in admin and quiz */
.category-folder, .category-folder-quiz{background:var(--white);border-radius:12px;padding:10px;border:1px solid rgba(0,0,0,0.04);box-shadow:0 10px 28px rgba(0,0,0,0.04)}
.folder-header{display:flex;justify-content:space-between;align-items:center;padding:6px 8px;border-bottom:1px dashed rgba(0,0,0,0.04);margin-bottom:8px}
.folder-title{font-weight:700;color:var(--text)}
.folder-count{color:var(--muted);font-weight:600;margin-left:8px}
.folder-list{display:none;padding:8px;gap:8px}
.folder-list .folder-item{display:flex;justify-content:space-between;align-items:center;padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.04);background:linear-gradient(90deg,rgba(129,212,250,0.03),transparent);margin-bottom:6px}
.folder-item-main{display:flex;flex-direction:column}
.folder-item-name{font-weight:600}
.folder-item-meta{font-size:0.9rem;color:var(--muted)}
.folder-item-actions{display:flex;gap:8px}

/* Windows-like folder and file visuals */
.win-folder{display:inline-flex;flex-direction:column;align-items:center;justify-content:flex-start;gap:8px;padding:12px;border-radius:6px;background:linear-gradient(180deg,#fff,#f7fbff);border:1px solid rgba(0,0,0,0.04);width:140px;margin:8px;cursor:pointer}
.win-folder .folder-icon{width:72px;height:54px;border-radius:6px;background:linear-gradient(180deg,#ffeaa7,#ffd166);display:flex;align-items:center;justify-content:center;box-shadow:inset 0 -6px 12px rgba(0,0,0,0.03)}
.win-folder .folder-label{font-weight:600;color:var(--text);font-size:0.95rem;text-align:center}
.win-file{display:flex;align-items:center;gap:10px;padding:8px;border-radius:6px;border:1px solid rgba(0,0,0,0.04);background:#fff;margin:6px 0;cursor:pointer}
.win-file .file-icon{width:28px;height:36px;border-radius:4px;background:linear-gradient(180deg,#e6f7ff,#d0ebff);display:inline-flex;align-items:center;justify-content:center}
.win-file .file-name{font-size:0.95rem;color:var(--text)}

/* Layout for folders grid inside category card */
.folder-grid{display:flex;flex-wrap:wrap;gap:12px;padding:8px}

/* Context menu items */
#custom-context-menu .ctx-item{padding:10px 12px;cursor:pointer;border-bottom:1px solid rgba(0,0,0,0.04);}
#custom-context-menu .ctx-item:last-child{border-bottom:none}
#custom-context-menu .ctx-item:hover{background:rgba(11,110,246,0.06)}

@media(max-width:700px){
  .win-folder{width:44%;margin:6px}
}

/* Mobile tweaks for quiz setup controls: stack selects/controls and hide the 'Assunto' field
   so the Start button doesn't overflow the viewport. Keeps button visible inside background. */
@media (max-width:700px) {
  /* make the discipline/subject selects stack vertically */
  .select-pair { display:flex; flex-direction:column; gap:10px; }
  /* hide secondary select (subject) to avoid overflow on small screens */
  .select-box.secondary { display:none !important; }

  /* stack difficulties, count input and button vertically */
  .controls-row { display:flex; flex-direction:column; gap:10px; align-items:flex-start; padding:12px 8px; }
  .controls-row > div { width:100%; display:flex; gap:8px; flex-wrap:wrap; align-items:center; }
  /* make the question count input full-width and more touch-friendly */
  #question-count { width:100%; max-width:100%; }
  /* put the start button under the controls and make it full width */
  .controls-row .btn-main { width:100%; align-self:stretch; padding:12px; font-size:1rem; }
}

/* Animations for folder open/close */
.folder-list[aria-hidden="true"]{display:none}
.folder-list.animate-open{display:flex;animation:folderOpen .22s ease forwards}
.folder-list.animate-close{animation:folderClose .18s ease forwards}
@keyframes folderOpen{from{opacity:0;transform:translateY(-6px)}to{opacity:1;transform:none}}
@keyframes folderClose{from{opacity:1;transform:none}to{opacity:0;transform:translateY(-6px)}}

/* Modal tweaks */
#theme-modal{display:none}
#theme-modal[data-open="true"]{display:flex}

/* Quiz folder styles */
.category-folder-quiz .folder-list-quiz{padding:6px 4px}
.category-filter{margin-right:12px;font-weight:600;color:var(--text)}
.category-filter .muted{color:var(--muted);font-weight:500}

/* scrollbar refinement for theme list */
.theme-list::-webkit-scrollbar{width:10px}
.theme-list::-webkit-scrollbar-thumb{background:linear-gradient(180deg,var(--brand-violet, #6c4bd7),var(--accent));border-radius:6px}

/* Modern button styles (Laws of UX: affordance, feedback, consistency) */
.btn-main{background:var(--respond-bg);color:white;border:none;padding:10px 16px;border-radius:12px;font-weight:700;cursor:pointer;box-shadow:0 10px 24px rgba(11,110,246,0.12);transition:transform .12s ease,box-shadow .12s ease}
.btn-main:active{transform:translateY(1px)}
.btn-main:hover{box-shadow:0 14px 36px rgba(11,110,246,0.14);transform:translateY(-2px)}

/* Qconcursos-like question card */
.quiz-card{background:#fff;border-radius:10px;padding:24px;border:1px solid #e6e9ee;box-shadow:0 8px 20px rgba(6,21,38,0.06);transition:transform .12s ease,box-shadow .12s ease}
.question-text{font-size:1.05rem;margin-bottom:16px;color:var(--text)}
.options{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:12px}
.option{display:flex;align-items:flex-start;gap:12px;padding:12px;border-radius:10px;border:1px solid #f0f2f5;cursor:pointer;background:#fff;transition:box-shadow .12s ease,transform .08s ease}
.option:hover{box-shadow:0 8px 18px rgba(6,21,38,0.06);transform:translateY(-2px)}
.option-letter{min-width:44px;height:34px;border-radius:8px;display:inline-flex;align-items:center;justify-content:center;border:2px solid rgba(11,110,246,0.14);color:var(--accent);font-weight:700;padding:0 10px;font-size:0.95rem;background:linear-gradient(180deg,rgba(77,163,255,0.02),rgba(11,110,246,0.01))}
/* icon inside the badge */
.option-letter .letter{display:inline-block}
.option.correct{background:#ecfdf5;border-color:rgba(5,150,105,0.12)}
.option.incorrect{background:#fff5f5;border-color:rgba(220,38,38,0.08)}
.progress-text{color:var(--muted);margin-top:14px}

.btn-respond{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  background-image:linear-gradient(180deg,rgba(11,110,246,0.08),rgba(77,163,255,0.02));
  color:var(--brand-blue);
  border:2px solid rgba(11,110,246,0.08);
  padding:10px 20px;
  min-height:44px;
  border-radius:999px;
  font-weight:800;
  cursor:pointer;
  box-shadow:0 8px 20px rgba(11,110,246,0.06);
  transition:transform .12s ease,box-shadow .12s ease;
}
.btn-respond:hover{transform:translateY(-2px);box-shadow:0 14px 32px rgba(11,110,246,0.12)}

/* Container for quiz action buttons */
.quiz-actions{display:flex;gap:12px;margin-top:18px}

/* Report button style */
.btn-report{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  background:#fff;
  border:2px solid rgba(220,38,38,0.08);
  color:#b91c1c;
  padding:10px 20px;
  min-height:44px;
  border-radius:999px;
  font-weight:800;
  cursor:pointer;
  box-shadow:0 8px 20px rgba(220,38,38,0.04);
  transition:transform .12s ease,box-shadow .12s ease;
}
.btn-report:hover{transform:translateY(-2px);box-shadow:0 14px 32px rgba(220,38,38,0.08)}

/* Selected state: immediate visual feedback when user clicks an option */
.option.selected{background:linear-gradient(90deg, rgba(11,110,246,0.10), rgba(77,163,255,0.04));border-color:rgba(11,110,246,0.26);box-shadow:0 14px 34px rgba(11,110,246,0.06);transform:translateY(-2px)}
.option.selected .option-letter{background:var(--brand-blue);color:#fff;border-color:transparent;box-shadow:0 6px 18px rgba(11,110,246,0.12)}
.option:focus-visible{outline:3px solid rgba(11,110,246,0.12);outline-offset:4px}

@media(min-width:1000px){
  .option.selected{background:linear-gradient(90deg, rgba(11,110,246,0.12), rgba(77,163,255,0.05));border-color:rgba(11,110,246,0.28);box-shadow:0 18px 44px rgba(11,110,246,0.06)}
}

/* Specific rules for the quiz page: keep overall site theme large logo but
   scale it down on the quiz page to fit the header area. */
.site-theme.quiz-page .logo-img-header{
  width:160px; /* smaller for quiz header */
  max-height:180px;
}
@media (max-width:700px){
  .site-theme.quiz-page .logo-img-header{width:120px;max-height:140px}
}
@media (min-width:1000px){
  .site-theme.quiz-page .logo-img-header{width:200px;max-height:220px}
}

/* Ensure correct/incorrect states override the 'selected' state visuals */
.option.selected.correct,
.option.correct.selected,
.option.correct {
  background: #ecfdf5 !important; /* soft green background */
  border-color: rgba(5,150,105,0.16) !important;
  box-shadow: 0 12px 30px rgba(16,185,129,0.06) !important;
  transform: none !important;
}
.option.selected.correct .option-letter,
.option.correct .option-letter {
  background: #059669 !important; /* stronger green */
  color: #fff !important;
  border-color: transparent !important;
}

.option.selected.incorrect,
.option.incorrect.selected,
.option.incorrect {
  background: #fff5f5 !important; /* soft red */
  border-color: rgba(220,38,38,0.12) !important;
  box-shadow: 0 12px 30px rgba(220,38,38,0.04) !important;
  transform: none !important;
}
.option.selected.incorrect .option-letter,
.option.incorrect .option-letter {
  background: #dc2626 !important; /* stronger red */
  color: #fff !important;
  border-color: transparent !important;
}

/* stronger contrast shades */
.option.correct{background:#dcfce7 !important;border-color:rgba(16,185,129,0.22) !important}
.option.correct .option-letter{background:#059669 !important}
.option.incorrect{background:#ffeaea !important;border-color:rgba(220,38,38,0.18) !important}
.option.incorrect .option-letter{background:#dc2626 !important}

/* icon SVG visibility: hidden by default, show only the appropriate icon */
.option-letter{position:relative}
.option-letter .icon{display:none;width:16px;height:16px;margin-left:8px}
.option.correct .option-letter .icon-check{display:inline-block;color:#fff}
.option.incorrect .option-letter .icon-cross{display:inline-block;color:#fff}

/* tweak shadows a bit for higher contrast */
.option.correct{box-shadow:0 16px 44px rgba(16,185,129,0.10) !important}
.option.incorrect{box-shadow:0 16px 44px rgba(220,38,38,0.08) !important}

/* Mobile: center login container and hero spacing */
@media (max-width:700px){
  .logo-svg{width:72px;height:72px;transform:translateX(-50%) translateY(-6%);opacity:0.14}
  .brand-title{font-size:1.05rem}
  .quiz-card{padding:16px}
  .option{padding:10px}
  .option-letter{width:34px;height:34px}
}

@media (min-width:1000px){
  .logo-svg{width:140px;height:140px;transform:translateX(-50%) translateY(-22%);opacity:0.12}
  .brand-title{font-size:1.6rem}
  .quiz-card{max-width:760px;margin:12px auto}
}

/* Center header brand visually (menu left, brand centered) */
.app-header{position:relative}
.app-header .logo-header{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);}
.app-header .header-space{width:56px;height:1px} /* keeps right-side spacing similar to left menu button */

/* Center the setup screen block and make it more compact */
#setup-screen{max-width:760px;margin:18px auto;padding:12px;display:flex;flex-direction:column;gap:12px}

/* Controls styling: center controls on desktop, stacked on mobile */
.controls-row{display:flex;gap:12px;align-items:center;margin-top:12px}
.controls-row input[type=number]{width:88px;padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);background:linear-gradient(180deg,rgba(255,255,255,0.96),rgba(250,250,250,0.98))}
.controls-row .btn-main{padding:10px 16px}
@media(max-width:700px){
  .controls-row{flex-direction:row;justify-content:flex-start}
}

/* Discipline / Subject select style (matching provided screenshot) */
.select-pair{display:flex;gap:12px;align-items:center;margin:12px 0}
.select-box{background:#fff;border:1px solid rgba(0,0,0,0.06);padding:10px 14px;border-radius:8px;min-width:200px;box-shadow:0 8px 20px rgba(0,0,0,0.04)}
.select-box select{border:none;background:transparent;font-size:0.95rem;color:var(--text);outline:none;appearance:none;padding-right:18px}
.select-label{display:block;font-size:0.85rem;color:var(--muted);margin-bottom:6px;font-weight:600}
.select-pair .select-box.secondary{min-width:260px}
.select-placeholder{color:var(--muted)}
/* Fix para evitar letras em coluna no mobile */
.scroll-table td:first-child label {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  width: 100%;
}

.scroll-table td:first-child label div {
  flex: 1 1 auto;       /* deixa o texto ocupar o espaço disponível */
  min-width: 0 !important; /* garante que o flex não quebre em colunas */
}

.scroll-table .theme-name,
.scroll-table .theme-desc {
  display: block;
  white-space: normal !important;
  word-break: break-word !important;
  overflow-wrap: break-word !important;
  line-height: 1.4;
}
/* Forçar textos dos temas a ficarem sempre em linha no mobile */
body.site-theme .scroll-table td:first-child label,
body.site-theme .scroll-table td:first-child label div,
body.site-theme .scroll-table td:first-child .theme-name,
body.site-theme .scroll-table td:first-child .theme-desc {
  display: block !important;
  width: 100% !important;
  writing-mode: horizontal-tb !important;
  text-orientation: mixed !important;
  white-space: normal !important;
  word-break: break-word !important;
  overflow-wrap: break-word !important;
  line-height: 1.4 !important;
}

/* ==================== MOBILE OPTIMIZATIONS ==================== */

/* Base Mobile Styles (480px and below) */
@media (max-width: 480px) {
  :root {
    /* Override spacing for mobile */
    --space-xs: var(--space-mobile-xs);
    --space-sm: var(--space-mobile-sm);
    --space-md: var(--space-mobile-md);
    --space-lg: var(--space-mobile-lg);
    --space-xl: var(--space-mobile-xl);
    --space-2xl: var(--space-mobile-2xl);
  }
  
  /* Base typography adjustments */
  body {
    font-size: var(--font-size-base-mobile);
    line-height: 1.5;
  }
  
  h1 { font-size: var(--font-size-3xl-mobile); line-height: 1.2; }
  h2 { font-size: var(--font-size-2xl-mobile); line-height: 1.3; }
  h3 { font-size: var(--font-size-xl-mobile); line-height: 1.4; }
  h4 { font-size: var(--font-size-lg-mobile); line-height: 1.4; }
  h5 { font-size: var(--font-size-base-mobile); line-height: 1.4; }
  h6 { font-size: var(--font-size-sm-mobile); line-height: 1.4; }
  
  /* Login Page Mobile Optimizations */
  .login-wrap {
    width: calc(100vw - 2rem);
    max-width: 100%;
    padding: var(--space-lg) var(--space-md);
    margin: var(--space-md);
  }
  
  .card {
    padding: var(--space-xl) var(--space-lg);
    border-radius: var(--radius-lg);
  }
  
  .card h2 {
    font-size: var(--font-size-2xl-mobile);
    margin-bottom: var(--space-md);
  }
  
  .card p.sub {
    font-size: var(--font-size-sm-mobile);
    margin-bottom: var(--space-lg);
  }
  
  .control {
    padding: var(--space-md);
    font-size: var(--font-size-base-mobile);
  }
  
  .btn {
    padding: var(--space-md) var(--space-lg);
    font-size: var(--font-size-base-mobile);
    margin-top: var(--space-md);
  }
  
  /* Quiz Page Mobile Optimizations */
  .quiz-container {
    padding: 0;
  }
  
  .app-header {
    padding: var(--space-md);
  }
  
  .brand-title {
    font-size: var(--font-size-lg-mobile);
  }
  
  .quiz-setup {
    padding: var(--space-lg) var(--space-md);
  }
  
  .quiz-setup-title {
    font-size: var(--font-size-3xl-mobile);
    margin-bottom: var(--space-md);
  }
  
  .quiz-setup-subtitle {
    font-size: var(--font-size-base-mobile);
    margin-bottom: var(--space-xl);
  }
  
  /* Quiz Question Mobile Optimizations */
  .quiz-question-header h3 {
    font-size: var(--font-size-lg-mobile);
    margin-bottom: var(--space-sm);
  }
  
  .quiz-theme {
    font-size: var(--font-size-xs-mobile);
    padding: var(--space-xs) var(--space-sm);
  }
  
  .quiz-question-text {
    font-size: var(--font-size-base-mobile);
    padding: var(--space-lg);
    margin-bottom: var(--space-lg);
    line-height: 1.6;
  }
  
  .quiz-option {
    padding: var(--space-md);
    margin-bottom: var(--space-sm);
  }
  
  .option-letter {
    width: 28px;
    height: 28px;
    font-size: var(--font-size-sm-mobile);
  }
  
  .option-text {
    font-size: var(--font-size-base-mobile);
    line-height: 1.5;
  }
  
  /* Quiz Actions Mobile */
  .quiz-actions {
    flex-direction: column;
    gap: var(--space-md);
    margin-top: var(--space-lg);
  }
  
  .quiz-btn {
    padding: var(--space-md) var(--space-lg);
    font-size: var(--font-size-base-mobile);
    width: 100%;
  }
  
  /* Results Mobile Optimizations */
  .quiz-results {
    padding: var(--space-lg) var(--space-md);
  }
  
  .results-header h2 {
    font-size: var(--font-size-2xl-mobile);
    margin-bottom: var(--space-md);
  }
  
  .results-score {
    margin: var(--space-lg) 0;
  }
  
  .score-number {
    font-size: var(--font-size-4xl-mobile);
  }
  
  .score-total {
    font-size: var(--font-size-xl-mobile);
  }
  
  .results-percentage {
    font-size: var(--font-size-2xl-mobile);
  }
  
  .results-stats {
    grid-template-columns: 1fr;
    gap: var(--space-md);
    margin: var(--space-xl) 0;
  }
  
  .stat-item {
    padding: var(--space-md);
    font-size: var(--font-size-sm-mobile);
  }
  
  .results-actions {
    flex-direction: column;
    gap: var(--space-md);
  }
  
  /* Review Mobile Optimizations */
  .quiz-review {
    padding: var(--space-md);
  }
  
  .review-header {
    flex-direction: column;
    gap: var(--space-md);
    text-align: center;
    margin-bottom: var(--space-lg);
  }
  
  .review-header h2 {
    font-size: var(--font-size-xl-mobile);
  }
  
  .review-question {
    padding: var(--space-md);
  }
  
  .review-question-text {
    font-size: var(--font-size-base-mobile);
    line-height: 1.5;
  }
  
  .review-option {
    padding: var(--space-sm) var(--space-md);
    font-size: var(--font-size-sm-mobile);
  }
  
  .option-letter {
    width: 20px;
    height: 20px;
    font-size: var(--font-size-xs-mobile);
  }
  
  /* Report Selection Mobile */
  .quiz-report-selection {
    padding: var(--space-md);
  }
  
  .report-selection-header h2 {
    font-size: var(--font-size-xl-mobile);
  }
  
  .report-selection-header p {
    font-size: var(--font-size-base-mobile);
  }
  
  .report-selection-question {
    flex-direction: column;
    gap: var(--space-md);
    padding: var(--space-md);
  }
  
  .report-question-preview {
    font-size: var(--font-size-sm-mobile);
    line-height: 1.4;
  }
  
  .report-select-btn {
    padding: var(--space-sm) var(--space-md);
    font-size: var(--font-size-sm-mobile);
  }
}

/* Tablet Styles (481px to 768px) */
@media (min-width: 481px) and (max-width: 768px) {
  .login-wrap {
    width: min(85vw, 380px);
  }
  
  .quiz-setup {
    padding: var(--space-xl) var(--space-lg);
  }
  
  .quiz-question-text {
    font-size: var(--font-size-lg);
  }
  
  .quiz-actions {
    flex-direction: row;
    justify-content: center;
  }
  
  .results-stats {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Large Mobile/Small Tablet (max-width: 640px) */
@media (max-width: 640px) {
  /* Ensure text doesn't overflow */
  .quiz-question-text,
  .review-question-text,
  .report-question-preview {
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
  }
  
  /* Improve touch targets */
  .quiz-option,
  .quiz-btn,
  .btn {
    min-height: 44px; /* iOS/Android minimum touch target */
  }
  
  /* Improve spacing for readability */
  p, li {
    margin-bottom: var(--space-sm);
  }
  
  /* Better card spacing */
  .card,
  .quiz-question,
  .review-question,
  .report-selection-question {
    margin-bottom: var(--space-lg);
  }
}
